<!doctype html>
<html xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <title>直播台</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="zh-CN" />
    <meta name="keywords" content="#" />
    <meta name="description" content="#" />
    <meta name="author" content="#" />
    <script type="text/javascript" src="../public/js/jquery-1.7.2.min.js"></script>

</head>

<body>

<input type=file id="myfile"><br/>
<input type=submit value=submit id="btn">



<script>

    $(function(){
        $("#btn").click(function(){

            if($.browser.msie && ($.browser.version == "6.0") || $.browser.msie && ($.browser.version == "7.0") || $.browser.msie && ($.browser.version == "8.0")) {
                getImgSize_ie();
            }
            /*else if($.browser.safari){
                getImgSize_other();
            }
            else if($.browser.mozilla){
                getImgSize_other();
            }*/
            else {
                getImgSize_other();
            }
        });

        function  getImgSize_ie(){
            var oImageVlaue = $("#myfile").val();
            if(oImageVlaue==" "){return false};
            var oImg = new Image();
            oImg.src   =   oImageVlaue;
            alert(oImg.width +":"+ oImg.height);
            alert("fileSize="+oImg.fileSize+"字节");
            return  false;
        }
        function getImgSize_other() {
            var image = new Image();
            var fileReader = new FileReader();
            var fileSrc = document.getElementById("myfile").files[0];
            fileReader.readAsDataURL(fileSrc);
            image.onload = function() {
                alert(this.width +":"+ this.height);
            }
            fileReader.onload = function() {
                //alert(this.result);
                image.src = this.result;
            }
        }
    })






</script>



</body>
</html>